(window["webpackJsonppost-ui"]=window["webpackJsonppost-ui"]||[]).push([[0],{198:function(e,t,n){e.exports=n(386)},292:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(12),o=n.n(s),c=n(84),l=(n(292),n(188)),u=n(189),i=n(196),d=n(190),h=n(56),m=n(197),p=(n(293),n(191)),f=n.n(p),v=function(e){var t=Object.assign({},{baseURL:"https://post-service-fe827.firebaseapp.com/api/v1",method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}},e);return function(e){return e({type:"BEGIN",method:t.method}),f.a.request(t).then((function(n){return e(function(e,t){return{type:"SUCCESS",method:e,content:t}}(t.method,n.data))})).catch((function(n){return e(function(e,t){return{type:"ERROR",method:e,error:t}}(t.method,n))}))}},E=function(){return v({method:"get",url:"/feeds"})},b=function(e){return v({method:"post",url:"/feeds",data:e})},y=function(e,t){return v({method:"put",url:"/feeds/upvote/".concat(e),data:t})},g=n(85),w=n(194),N=n.n(w),O=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},n.addNewPost=n.addNewPost.bind(Object(h.a)(n)),n.handleAddNewPost=n.handleAddNewPost.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.result,n=(t=void 0===t?{}:t).content,a=t.error,r=t.isFetching,s=t.method;t.success&&!r?"get"!==s?this.props.dispatch(E()):this.setState({data:n,showInput:!1}):a&&this.setState({data:[],showInput:!1})}},{key:"componentDidMount",value:function(){this.props.dispatch(E())}},{key:"handleAddNewPost",value:function(){this.setState({showInput:!0})}},{key:"addNewPost",value:function(){this.props.dispatch(b({name:"Amit kumar",text:this.state.text}))}},{key:"upvotePost",value:function(e){this.props.dispatch(y(e.id,{upvotes:parseInt(e.upvotes)+1}))}},{key:"handleChange",value:function(e){this.setState({text:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.showInput,s=this.props.result,o=s.error,c=s.isFetching,l=s.success;return r.a.createElement("div",{className:"container"},(c||!l)&&r.a.createElement("div",{id:"overlay"},r.a.createElement("i",{className:"fa fa-spinner fa-spin fa-5x pageCenter"}),!c&&!l&&alert("Error: "+JSON.stringify(o))),r.a.createElement("h2",null,"POSTS: "),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Post"),r.a.createElement("th",null,"CreatedOn"),r.a.createElement("th",null))),r.a.createElement("tbody",null,n.map((function(t,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.text),r.a.createElement("td",null,N()(new Date(t.createdOn),"mmm dd, yyyy, hh:MM tt")),r.a.createElement("td",null,"".concat(t.upvotes," ").concat(t.upvotes>1?"upvotes":"upvote"),r.a.createElement(g.a,{bsStyle:"link",onClick:e.upvotePost.bind(e,t)},r.a.createElement("i",{className:"fa fa-thumbs-up"},"+1"))))})))),a?r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,rows:"3"}),r.a.createElement(g.a,{bsStyle:"primary",style:{margin:"20px"},onClick:this.addNewPost},"Add")):r.a.createElement(g.a,{bsStyle:"primary",onClick:this.handleAddNewPost},"Add New Post"))}}]),t}(a.Component),C=Object(c.b)((function(e){return{result:e.result}}))(O),S=n(195),k=n.n(S),j=n(69),P={result:{content:null,error:null,isFetching:!1,method:null,success:!0}},x=Object(j.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEGIN":return{result:{content:null,error:null,isFetching:!0,method:t.method,success:!1}};case"SUCCESS":return{result:{content:t.content,error:null,isFetching:!1,method:t.method,success:!0}};case"ERROR":return{result:{content:null,error:t.error,isFetching:!1,method:t.method,success:!1}};default:return e}}),Object(j.a)(k.a));o.a.render(r.a.createElement(c.a,{store:x},r.a.createElement(C,null)),document.getElementById("root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.1c1a7c17.chunk.js.map